(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f03214ca"],{"1a8f":function(t,e,r){"use strict";var n=r("4268"),i=r.n(n);i.a},"2ce0":function(t,e,r){},"31e5":function(t,e,r){},"3ac0":function(t,e,r){},4268:function(t,e,r){},"7e36":function(t,e,r){"use strict";var n=r("2ce0"),i=r.n(n);i.a},c132:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("PageDrawer",[r("div",{attrs:{slot:"page"},slot:"page"},[r("Pages")],1),r("div",{attrs:{slot:"layout"},slot:"layout"},[t.loadingDom?r("div",{staticClass:"loading",staticStyle:{height:"100vh"}}):r("div",{staticClass:"pre-container"},[r("resize-observer",{on:{notify:t.handleResize}}),r("div",{staticClass:"pre-loading"}),r("div",{staticClass:"pre-page-popper"}),r("div",{staticClass:"dashboard",style:t.dashBoard},[r("div",{staticClass:"pre-image",style:t.preImg}),r("div",{staticClass:"pos-margin",style:t.marginBlock},[r("div",{staticClass:"part-layout",staticStyle:{position:"relative"}},[r("div",{staticClass:"scene",style:t.scene},[r("BaseCell")],1)])])])],1)])])},i=[],a=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),o=r("2b0e"),s=(r("ac4d"),r("8a81"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{style:[t.pStyle],attrs:{id:t.mountedId}},[r("div",{attrs:{id:t.partId}})])}),c=[],u=o["default"].extend({data:function(){return{ins:{}}},props:{part:{type:Object,default:{partId:""}}},computed:{partId:function(){return this.part.partId},mountedId:function(){return"mounted_"+this.partId},partStyle:function(){return this.part.partStyle},pStyle:function(){return{width:this.partStyle.width+"px",height:this.partStyle.height+"px",position:this.partStyle.position,left:this.partStyle.x+"px",top:this.partStyle.y+"px",transform:"rotate(".concat(this.partStyle.angle,"deg)"),backgroundColor:this.partStyle.backgroundColor||"",opacity:1,zIndex:this.part.layer}},partGroup:function(){return this.part.partGroup},width:function(){return this.partStyle.width},height:function(){return this.partStyle.height}},methods:{initPart:function(){var t={width:this.partStyle.width,height:this.partStyle.height};this.part.init("#".concat(this.partId),t)}},mounted:function(){this.initPart()},beforeDestroy:function(){}}),l=u,p=(r("f15e"),r("2877")),d=Object(p["a"])(l,s,c,!1,null,"31a09f53",null),h=d.exports,g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{style:[t.pStyle],attrs:{id:t.mountedId},on:{contextmenu:function(e){return e.stopPropagation(),t.partContextmenu(e)}}},t._l(t.partGroup,function(t){return r("groupCell",{key:t.partId,attrs:{part:t}})}),1)},f=[],m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{style:[t.pStyle],attrs:{id:t.partId}},[r("div",{attrs:{id:t.mountedId}})])},b=[],y={data:function(){return{ins:{}}},props:{part:{type:Object,default:{partId:""}}},computed:{partId:function(){return this.part.partId},mountedId:function(){return"mounted"+this.partId},partStyle:function(){return this.part.partStyle},pStyle:function(){return{width:this.partStyle.width+"px",height:this.partStyle.height+"px",position:this.partStyle.position,left:this.partStyle.x+"px",top:this.partStyle.y+"px",transform:"rotate(".concat(this.partStyle.angle,"deg)"),backgroundColor:this.partStyle.backgroundColor||"",zIndex:this.part.layer}}},methods:{initPart:function(){var t={width:this.partStyle.width,height:this.partStyle.height};this.part.init("#".concat(this.mountedId),t)}},mounted:function(){this.initPart()}},v=y,S=(r("1a8f"),Object(p["a"])(v,m,b,!1,null,"50042e3c",null)),O=S.exports,w=o["default"].extend({name:"group",data:function(){return{ins:{}}},components:{groupCell:O},props:{part:{type:Object,default:{partId:""}}},computed:{partId:function(){return this.part.partId},partStyle:function(){return this.part.partStyle},pStyle:function(){return{width:this.partStyle.width+"px",height:this.partStyle.height+"px",position:this.partStyle.position,left:this.partStyle.x+"px",top:this.partStyle.y+"px",transform:"rotate(".concat(this.partStyle.angle,"deg)"),backgroundColor:this.partStyle.backgroundColor||"",zIndex:this.part.layer,opacity:1}},partGroup:function(){return this.part.partGroup},mountedId:function(){return"mounted_"+this.partId}},methods:{},beforeDestroy:function(){}}),P=w,j=(r("ef0e"),Object(p["a"])(P,g,f,!1,null,"73f5bbcc",null)),C=j.exports,x=r("2f62");function k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function I(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?k(r,!0).forEach(function(e){Object(a["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var D,L,T=o["default"].extend({components:{Cell:h,Group:C},computed:I({},Object(x["e"])({pageManage:function(t){return t.screen.pageManage}}),{partList:function(){return this.pageManage.partContainer}}),mounted:function(){console.log(this.partList)},render:function(t){var e=this,r=function(t){var r=[],n=function(e,r){return t(e,{props:{part:r},key:r.partId})},i=!0,a=!1,o=void 0;try{for(var s,c=e.partList[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var u=s.value;"group"===u.partType?r.push(n(C,u)):r.push(n(h,u))}}catch(l){a=!0,o=l}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return r};return t("div",{attrs:{class:"group-list",id:"group-list"}},r(t))}}),M=T,z=(r("7e36"),Object(p["a"])(M,D,L,!1,null,"5de9799a",null)),H=z.exports,B=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pages-container"},[r("div",{staticClass:"page-content"},[r("el-scrollbar",{attrs:{"wrap-class":"cmpt-view-box","view-class":"cmpt-list-content",noresize:!1,native:!1}},[r("sl-vue-tree",{ref:"slVueTree",attrs:{edgeSize:5},on:{nodeclick:t.changeCurPage},scopedSlots:t._u([{key:"toggle",fn:function(e){var n=e.node;return[n.isLeaf?t._e():[n.isExpanded?[r("i",{staticClass:"el-icon-caret-bottom"})]:[r("i",{staticClass:"el-icon-caret-right"})]]]}},{key:"title",fn:function(e){var n=e.node;return[r("span",{staticClass:"page-item-icon"},[n.isLeaf?r("i",{staticClass:"el-icon-document"}):t._e(),n.isLeaf?t._e():r("i",{staticClass:"el-icon-folder"}),t._v("\n                        "+t._s(n.title)+"\n                    ")])]}}]),model:{value:t.pageTree,callback:function(e){t.pageTree=e},expression:"pageTree"}})],1)],1)])},W=[],E=r("c536"),N=r.n(E);function V(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?V(r,!0).forEach(function(e){Object(a["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var G=o["default"].extend({components:{slVueTree:N.a},data:function(){return{pageTree:[],currentNode:"",slVueTree:{},cureentPageCtm:{}}},computed:F({},Object(x["e"])({pageManage:function(t){return t.screen.pageManage}}),{pagesContainer:function(){return this.pageManage.pagesContainer}}),methods:F({},Object(x["d"])(["add_Pages","remove_page","init_page","update_current_page","edit_page","copy_page","clearPartSeletion","setSelectedBox"]),{},Object(x["b"])([]),{mapTreeNode:function(t){return Object.assign({},{title:t.pagesName,isLeaf:!0},{data:_.cloneDeep(_.defaultsDeep({pageInstance:null,edit:!1,isHover:!1},t))})},changeCurPage:function(t){t.path&&this.slVueTree.select(t.path);var e=t.data;this.update_current_page(e),this.cureentPageCtm=t},initPageModel:function(){var t=this;this.init_page(),this.pagesContainer.forEach(function(e,r){var n=e.getProperties(),i=t.mapTreeNode(n);0===r&&(i.isSelected=!0),t.pageTree.push(i)})},initRef:function(){this.slVueTree=this.$refs.slVueTree},initFirstSelectPage:function(){var t=this.slVueTree.getSelected()[0];this.update_current_page(t.data)},traverse:function(t,e){var r=t.length;while(r--){var n=t[r];e.push(n.data.pagesId),n.children&&this.traverse(n.children,e)}},getLastPage:function(){var t=this.pagesContainer[this.pagesContainer.length-1],e=t.getProperties(),r=this.mapTreeNode(e);return r},handleShowPoper:function(){this.$emit("handleShowPoper",!1)},initBuildTree:function(t){var e,r,n={},i=[];for(r=0;r<t.length;r++)n[t[r].pagesId]=t[r],t[r].children=[];for(r=0;r<t.length;r+=1)e=t[r],e.parentId?n[e.parentId].children.push(e):i.push(e);return this.traverseMapNode(i),i},traverseMapNode:function(t){var e=t.length;while(e--){var r=t[e];this.updateNode(r),r.children&&this.traverseMapNode(r.children)}},updateNode:function(t){t.data=_.cloneDeep(_.defaultsDeep({pageInstance:null,edit:!1,isHover:!1},t)),t.title=t.pagesName,t.children.length>0?t.isLeaf=!1:t.isLeaf=!0}}),mounted:function(){this.initRef(),this.initPageModel(),this.initFirstSelectPage()}}),R=G,J=Object(p["a"])(R,B,W,!1,null,null,null),q=J.exports,A=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("vue-drawer-layout",{attrs:{"content-drawable":!0,"drawer-width":280}},[r("div",{staticClass:"drawer",attrs:{slot:"drawer"},slot:"drawer"},[t._t("page")],2),r("div",{staticClass:"content",attrs:{slot:"content"},slot:"content"},[t._t("layout")],2)])],1)},K=[],Q=o["default"].extend({name:"PageDrawer",methods:{}}),U=Q,X=Object(p["a"])(U,A,K,!1,null,null,null),Y=X.exports;function Z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function tt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Z(r,!0).forEach(function(e){Object(a["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var et=o["default"].extend({name:"PreScreen",components:{BaseCell:H,PageDrawer:Y,Pages:q},data:function(){return{screenDomWidth:0,screenDomHeight:0,backgroundImage:"none",backgroundColor:"",transform:"scale(1)",marginLeft:"",backgroundPosition:"",backgroundSize:"100% 100%",overflow:"hidden",margin:"0px",fullScreenLoading:{},loadingDom:!1}},computed:tt({},Object(x["c"])(["projectObj","currentPage"]),{scaleMode:function(){return this.projectObj&&this.projectObj.scaleMode},screenW:function(){return this.projectObj&&this.projectObj.screenW},screenH:function(){return this.projectObj&&this.projectObj.screenH},currentBgColor:function(){return this.currentPage&&this.currentPage.backgroundColor},currentBgImage:function(){return this.currentPage&&this.currentPage.backgroundImage},preScrrenStyle:function(){var t=this.currentBgImage||"none",e=this.transform;return{width:"".concat(this.screenW,"px"),height:"".concat(this.screenH,"px"),backgroundImage:"url(".concat(t,")"),backgroundColor:"".concat(this.currentBgColor),transform:e,backgroundSize:this.backgroundSize,marginLeft:this.marginLeft,backgroundPosition:this.backgroundPosition}},dashBoard:function(){return{backgroundColor:this.backgroundColor,overflow:this.overflow}},preImg:function(){var t=this.currentBgImage||"none";return{backgroundImage:"url(".concat(t,")"),backgroundColor:"".concat(this.currentBgColor),backgroundSize:this.backgroundSize,backgroundPosition:this.backgroundPosition}},marginBlock:function(){return{margin:this.margin}},scene:function(){var t=this.currentBgImage||"none",e=this.transform;return{width:"".concat(this.screenW,"px"),height:"".concat(this.screenH,"px"),backgroundImage:"url(".concat(t,")"),backgroundColor:"".concat(this.currentBgColor),transform:e,backgroundSize:"100% 100%",backgroundPosition:"left top"}}}),methods:tt({},Object(x["b"])(["initCoreModel"]),{initCore:function(){var t="preview";this.initCoreModel(t)},getPreScreenData:function(){},initScreenDom:function(){var t=$(window);this.screenDomHeight=t.height(),this.screenDomWidth=t.width()},calLayoutProps:function(){if("equal"===this.scaleMode){var t=this.screenDomWidth/this.screenW,e=this.screenDomHeight/this.screenH;this.transform="scale(".concat(t,", ").concat(e,")"),this.overflow="hidden"}if("HScale"===this.scaleMode){var r=this.screenDomWidth/this.screenW;this.transform="scale(".concat(r,")");var n=this.screenH*r,i=(this.screenDomHeight-n)/2;i>0?(this.margin="".concat(i,"px 0px"),this.overflow="hidden"):this.overflow="hidden auto";var a=n/this.screenDomHeight*100;this.backgroundPosition="left ".concat(i,"px"),this.backgroundSize="100% ".concat(a,"%")}if("WScale"===this.scaleMode){var o=this.screenDomHeight/this.screenH;this.transform="scale(".concat(o,")");var s=this.screenW*o,c=(this.screenDomWidth-s)/2;c>0?(this.margin="0px ".concat(c,"px"),this.overflow="hidden"):this.overflow="auto hidden";var u=s/this.screenDomWidth*100;this.marginLeft="".concat(c,"px"),this.backgroundPosition="".concat(c,"px top"),this.backgroundSize="".concat(u,"% 100%")}},handleResize:function(){var t=$(window);this.screenDomHeight=t.height(),this.screenDomWidth=t.width()},openFullScreen:function(){this.loadingDom=!0,this.fullScreenLoading=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.9)"})},closeFullScreen:function(){var t=this;this.$nextTick(function(){setTimeout(function(){t.fullScreenLoading.close(),t.loadingDom=!1},500)})}}),created:function(){this.openFullScreen(),this.initCore()},mounted:function(){this.handleResize(),this.initScreenDom(),this.calLayoutProps(),this.closeFullScreen()}}),rt=et,nt=(r("f1ed"),Object(p["a"])(rt,n,i,!1,null,null,null));e["default"]=nt.exports},ce79:function(t,e,r){},ef0e:function(t,e,r){"use strict";var n=r("31e5"),i=r.n(n);i.a},f15e:function(t,e,r){"use strict";var n=r("ce79"),i=r.n(n);i.a},f1ed:function(t,e,r){"use strict";var n=r("3ac0"),i=r.n(n);i.a}}]);
//# sourceMappingURL=chunk-f03214ca.615ffd24.js.map